<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Igreja Batista Nova Vida - Minist√©rio EBD</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        .chat-toggle-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: #007bff; /* Azul */
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 9999;
            transition: transform 0.3s ease;
        }
        .chat-toggle-btn:hover { transform: scale(1.1); }

        .chat-window {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            max-width: 90%;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 9999;
            font-family: 'Open Sans', sans-serif;
            border: 1px solid #eee;
        }

        .chat-header {
            background-color: #007bff;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chat-header h4 { margin: 0; font-size: 16px; font-family: 'Montserrat', sans-serif; }
        .close-chat { cursor: pointer; font-size: 20px; }

        .chat-body {
            height: 300px;
            overflow-y: auto;
            padding: 15px;
            background-color: #f9f9f9;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 14px;
            line-height: 1.4;
            animation: fadeIn 0.3s ease;
        }
        .bot-msg { background-color: #e9ecef; color: #333; align-self: flex-start; border-bottom-left-radius: 2px; }
        .user-msg { background-color: #007bff; color: white; align-self: flex-end; border-bottom-right-radius: 2px; }

        .chat-input-area {
            padding: 10px;
            border-top: 1px solid #ddd;
            display: flex;
            gap: 5px;
            background: white;
        }
        .chat-input-area input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 20px; outline: none; }
        .chat-input-area button {
            background: #007bff;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .whatsapp-group-btn {
            display: inline-block;
            background-color: #25d366;
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            margin-top: 5px;
            text-align: center;
            border: none;
            cursor: pointer;
        }
        .whatsapp-group-btn:hover { background-color: #1ebc57; color: white; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="container">
            <a href="../index.html" class="logo">IGREJA BATISTA NOVA VIDA</a>
            <nav class="main-nav">
                <ul class="nav-list">
                    <li><a href="../index.html">In√≠cio</a></li>
                    <li><a href="../about.html">Sobre N√≥s</a></li>
                    <li><a href="../sermons.html">Serm√µes</a></li>
                    <li><a href="../ministries.html">Minist√©rios</a></li>
                    <li><a href="../pascoa.html">P√°scoa</a></li>
                    <li><a href="../events.html">Eventos</a></li>
                    <li><a href="../give.html">D√™</a></li>
                    <li><a href="../contact.html">Contato</a></li>
                    <li><a href="#" class="btn btn-primary" id="headerSignUpBtn">Cadastre-se</a></li>
                </ul>
                <div class="hamburger-menu">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

    <main>
        <section class="section hero-page-header ministry-ebd-bg">
            <div class="container text-center">
                <h1>Minist√©rio Escola B√≠blica Dominical</h1>
                <p>Ensino e estudo da Palavra de Deus para todas as idades.</p>
            </div>
        </section>

        <section class="section ministry-detail-content">
            <div class="container text-left">
                <p>O Minist√©rio da Escola B√≠blica Dominical (EBD) tem o prop√≥sito de fornecer instru√ß√£o b√≠blica s√≥lida e relevante, auxiliando no crescimento espiritual de cada membro da igreja. Nosso objetivo √© capacitar crian√ßas, jovens e adultos a compreender e aplicar a Palavra de Deus em seu dia a dia.</p>
                <img src="../img/ministries/ebdCapa.jpg" alt="Pessoas estudando a B√≠blia em grupo" class="ministry-detail-img">
                <p>Nossa equipe de professores e ajudantes √© dedicada a criar um ambiente de aprendizado din√¢mico e acolhedor. Oferecemos classes separadas para diferentes faixas et√°rias, garantindo que o ensino seja adequado e eficaz para todos.</p>
                
                <h3 style="margin-top: 3rem;">Nossa Galeria de Fotos</h3>
                <div class="gallery-grid">
                    <div class="gallery-item">
                        <img src="../img/ministries/ebd1.jpg" alt="Crian√ßas em aula da Escola B√≠blica Dominical">
                        <p>Crian√ßas aprendendo hist√≥rias b√≠blicas de forma divertida.</p>
                    </div>
                    <div class="gallery-item">
                        <img src="../img/ministries/ebd2.jpg" alt="Adolescentes em estudo b√≠blico">
                        <p>Adolescentes aprofundando-se na Palavra de Deus.</p>
                    </div>
                    <div class="gallery-item">
                        <img src="../img/ministries/ebd3.jpg" alt="Grupo de adultos em estudo b√≠blico">
                        <p>Grupo de adultos discutindo a li√ß√£o da semana.</p>
                    </div>
                    <div class="gallery-item">
                        <img src="../img/ministries/ebd4.jpg" alt="Grupo de adultos em estudo b√≠blico">
                        <p>Grupo de adultos discutindo a li√ß√£o da semana.</p>
                    </div>
                </div>
                <p style="text-align: center; margin-top: 2rem;"><a href="#" class="btn btn-outline">Ver √Ålbum Completo</a></p>

                <h3 style="margin-top: 3rem;">Eventos da Semana</h3>
                <ul class="event-details-list">
                    <li><i class="fas fa-calendar-alt"></i> Domingo: Classes da EBD (09:00h - Salas de Aula)</li>
                    <li><i class="fas fa-star"></i> Pr√≥ximo Evento Especial: Treinamento Anual de Professores da EBD em [Data]! <a href="../events/treinamento-professores-ebd.html">Saiba Mais</a></li>
                </ul>

                <h3 style="margin-top: 3rem;">Conhe√ßa Nossos L√≠deres:</h3>
                <div class="ministry-participants-grid">
                    <div class="participant-card">
                        <img src="../img/perfil/saulo.jpg" alt="Foto de Saulo">
                        <h4>Saulo Silva Santos</h4>
                        <p>L√≠der S√™nior</p>
                        <ul class="social-links">
                            <li><a aria-label="Facebook" href="#"><i class="fab fa-facebook-f"></i></a></li>
                            <li><a aria-label="Instagram" href="#"><i class="fab fa-instagram"></i></a></li>
                            <li><a aria-label="Email" href="#"><i class="fas fa-envelope"></i></a></li>
                        </ul>
                    </div>
                    <div class="participant-card">
                        <img src="../img/perfil/Maelli.jpg" alt="Foto de Maeli">
                        <h4>Maelli Batista Ramos</h4>
                        <p>Lider S√™nior</p>
                        <ul class="social-links">
                            <li><a aria-label="Facebook" href="#"><i class="fab fa-facebook-f"></i></a></li>
                            <li><a aria-label="Instagram" href="#"><i class="fab fa-instagram"></i></a></li>
                            <li><a aria-label="Email" href="#"><i class="fas fa-envelope"></i></a></li>
                        </ul>
                    </div>
                </div>
                
                <a href="../ministries.html" class="btn btn-outline" style="margin-top: 3rem;">Voltar para Minist√©rios</a>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-links">
                <ul>
                    <li><a href="../index.html">In√≠cio</a></li>
                    <li><a href="../about.html">Sobre N√≥s</a></li>
                    <li><a href="../sermons.html">Serm√µes</a></li>
                    <li><a href="../ministries.html">Minist√©rios</a></li>
                </ul>
                <ul>
                    <li><a href="../pascoa.html">P√°scoa</a></li>
                    <li><a href="../events.html">Eventos</a></li>
                    <li><a href="../give.html">D√™</a></li>
                    <li><a href="../contact.html">Contato</a></li>
                    <li><a href="../privacy-policy.html">Privacidade</a></li>
                </ul>
            </div>
            <div class="footer-info">
                <p>¬© 2024 Igreja Batista Nova Vida. Todos os direitos reservados.</p>
                <p>Feito com ‚ù§Ô∏è pela comunidade.</p>
            </div>
        </div>
    </footer>

    <div class="chat-toggle-btn" id="openMinistryChat">
        <i class="fas fa-robot"></i>
    </div>

    <div class="chat-window" id="ministryChatWindow">
        <div class="chat-header">
            <h4><i class="fas fa-book-reader"></i> Inscri√ß√£o EBD</h4>
            <span class="close-chat" id="closeMinistryChat">√ó</span>
        </div>
        <div class="chat-body" id="ministryChatBody">
            </div>
        <div class="chat-input-area" id="ministryInputArea">
            <input type="text" id="ministryChatInput" placeholder="Digite sua resposta...">
            <button id="ministrySendBtn"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <script src="../js/script.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elementos
            const openBtn = document.getElementById('openMinistryChat');
            const headerSignUpBtn = document.getElementById('headerSignUpBtn');
            const closeBtn = document.getElementById('closeMinistryChat');
            const chatWindow = document.getElementById('ministryChatWindow');
            const chatBody = document.getElementById('ministryChatBody');
            const chatInput = document.getElementById('ministryChatInput');
            const sendBtn = document.getElementById('ministrySendBtn');
            const inputArea = document.getElementById('ministryInputArea');

            // ‚ö†Ô∏è ATEN√á√ÉO: COLOQUE SEU N√öMERO AQUI
            // Exemplo Brasil: 55 + DDD + Numero (Ex: 5527999998888)
            const adminPhoneNumber = "5527999041192"; 

            let step = 0;
            let userName = "";
            let userPhone = "";
            let ageGroup = "";
            let role = "";

            function openChat() {
                chatWindow.style.display = 'flex';
                if(step === 0) {
                    botSay("Ol√°! A paz do Senhor! üìñ");
                    setTimeout(() => botSay("Que bom ver seu interesse em estudar a Palavra de Deus."), 1000);
                    setTimeout(() => botSay("Para come√ßarmos, qual √© o seu **Nome Completo**?"), 2500);
                    step = 1;
                }
            }

            openBtn.addEventListener('click', openChat);

            headerSignUpBtn.addEventListener('click', (e) => {
                e.preventDefault();
                openChat();
            });

            closeBtn.addEventListener('click', () => {
                chatWindow.style.display = 'none';
            });

            sendBtn.addEventListener('click', processInput);
            chatInput.addEventListener('keypress', (e) => {
                if(e.key === 'Enter') processInput();
            });

            function processInput() {
                const text = chatInput.value.trim();
                if(!text) return;

                userSay(text);
                chatInput.value = '';

                if(step === 1) {
                    userName = text;
                    setTimeout(() => botSay(`Bem-vindo(a), ${userName}! üéì`), 600);
                    setTimeout(() => botSay("Para contato, qual √© o seu n√∫mero de **WhatsApp (com DDD)**?"), 1500);
                    step = 2;
                } 
                else if(step === 2) {
                    userPhone = text;
                    setTimeout(() => botSay("Qual √© a sua faixa et√°ria? (Ex: Crian√ßa, Adolescente, Jovem ou Adulto)"), 1000);
                    step = 3;
                }
                else if(step === 3) {
                    ageGroup = text;
                    setTimeout(() => botSay("Voc√™ gostaria de se inscrever como **Aluno** ou tem interesse em ser **Professor/Ajudante**?"), 1000);
                    step = 4;
                }
                else if(step === 4) {
                    role = text;
                    setTimeout(() => botSay("Perfeito! Estamos animados para te receber."), 800);
                    setTimeout(() => {
                        botSay("Seu cadastro est√° pronto! Clique abaixo para enviar essas informa√ß√µes para a secretaria da EBD via WhatsApp:");
                        addLinkButton();
                        inputArea.style.display = 'none';
                    }, 2000);
                    step = 5;
                }
            }

            function botSay(text) {
                const msgDiv = document.createElement('div');
                msgDiv.className = 'message bot-msg';
                msgDiv.innerHTML = text;
                chatBody.appendChild(msgDiv);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function userSay(text) {
                const msgDiv = document.createElement('div');
                msgDiv.className = 'message user-msg';
                msgDiv.textContent = text;
                chatBody.appendChild(msgDiv);
                chatBody.scrollTop = chatBody.scrollHeight;
            }

            function addLinkButton() {
                // Monta a mensagem final com os dados coletados
                const finalMessage = `Ol√°! Gostaria de participar da EBD.%0A%0A*Nome:* ${userName}%0A*WhatsApp:* ${userPhone}%0A*Faixa Et√°ria:* ${ageGroup}%0A*Interesse:* ${role}`;
                
                const whatsappUrl = `https://wa.me/${adminPhoneNumber}?text=${finalMessage}`;

                const btn = document.createElement('a');
                btn.href = whatsappUrl;
                btn.target = "_blank";
                btn.className = 'whatsapp-group-btn';
                btn.innerHTML = '<i class="fab fa-whatsapp"></i> Enviar Cadastro';
                
                const container = document.createElement('div');
                container.style.textAlign = 'center';
                container.style.width = '100%';
                container.appendChild(btn);
                
                chatBody.appendChild(container);
                chatBody.scrollTop = chatBody.scrollHeight;
            }
        });
    </script>
</body>
</html>
